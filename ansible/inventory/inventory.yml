---
all:
  hosts:
    pihole01.net.dbren.uk:
    pihole02.net.dbren.uk:
    proxmox01.net.dbren.uk:
    proxmox02.net.dbren.uk:
    exit01.net.dbren.uk:
    exit02.net.dbren.uk:
    backup01.net.dbren.uk:
    media01.net.dbren.uk:
    k3s01.net.dbren.uk:
    homeops.hetzner.dbren.uk:
  children:
    # Proxmox cluster nodes
    proxmox:
      hosts:
        proxmox01.net.dbren.uk:
        proxmox02.net.dbren.uk:
    # Hosts with Docker
    docker:
      hosts:
        pihole01.net.dbren.uk:
        media01.net.dbren.uk:
        pihole02.net.dbren.uk:
        homeops.hetzner.dbren.uk:
    # Tailscale subnet routers
    subnet_router:
      hosts:
        pihole01.net.dbren.uk:
        pihole02.net.dbren.uk:
    # Tailscale exit nodes
    exit_node:
      hosts:
        exit01.net.dbren.uk:
        exit02.net.dbren.uk:
        homeops.hetzner.dbren.uk:
    # Hosts with Tailscale installed
    tailscale:
      vars:
        # Ensures other group_vars have higher precedence than tailscale group_vars
        ansible_group_priority: 0
      children:
        proxmox:
        subnet_router:
        exit_node:
      hosts:
        media01.net.dbren.uk:
        backup01.net.dbren.uk:
        homeops.hetzner.dbren.uk:
