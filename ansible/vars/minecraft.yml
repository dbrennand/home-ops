---
# vars file for minecraft-playbook.yml
minecraft_image_tag: latest
# All container environment variables can be found at: https://docker-minecraft-server.readthedocs.io/en/latest/configuration/server-properties
minecraft_options:
  # DO NOT modify these variables
  EULA: "TRUE"
  TYPE: PAPER
  # Modify the below variables
  # https://docker-minecraft-server.readthedocs.io/en/latest/configuration/jvm-options/#memory-limit
  MEMORY: 5G
  # https://docker-minecraft-server.readthedocs.io/en/latest/versions/java/
  VERSION: "1.20.1"
  # https://docker-minecraft-server.readthedocs.io/en/latest/configuration/server-properties
  MOTD: A Minecraft Server created using Ansible
  # https://docker-minecraft-server.readthedocs.io/en/latest/configuration/server-properties/#difficulty
  DIFFICULTY: hard
  # https://docker-minecraft-server.readthedocs.io/en/latest/configuration/server-properties/#opadministrator-players
  OPS: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    31363538373161313132616662303961336161336535333339346365633037323432666661396633
    3635656261323835636635633039316135346137343636310a323662396436623961646231666439
    30336165353931623936666438393636636161323366353934356331303931613730356666643632
    6335336236646464330a646237303663666665373334663466333639303863313563363236393165
    3666
  ENABLE_RCON: "true"
  # Best to provide in quotes in case of any special characters
  RCON_PASSWORD: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    38646665333635643731666563356535323066396461336438353061343233393039363132653562
    3433346461643239373465333736656534326234623566380a386336333834346337646138396566
    34646265313432343162373335333033313432353838386630316236326537346436313236356234
    6534326434396564650a343465333937366435363339303961333836633233393034313434643737
    35313637386632653736643064376530303135353334613537646332313830313330
  MAX_PLAYERS: "20"
  ALLOW_NETHER: "true"
  ANNOUNCE_PLAYER_ACHIEVEMENTS: "true"
  GENERATE_STRUCTURES: "true"
  SNOOPER_ENABLED: "false"
  SPAWN_ANIMALS: "true"
  SPAWN_MONSTERS: "true"
  SPAWN_NPCS: "true"
  SPAWN_PROTECTION: "0"
  MODE: survival
  PVP: "true"
  SERVER_NAME: Minecraft Server

minecraft_backup: true
discord_webhook: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37353536336133356435626266343261653435353364633261333762323363363739333538653764
  3837666533616365373130626138393365653034396165350a663561643136636535316537613364
  39376163323766623864316230343838396366303066356263343635336135346633663366616262
  3064306564636537620a613331636462376161383064396632353731356663323236363136333039
  39383334393463623762333964306436333831656465623538643736656431353734346461326439
  36396464613133626334376162323465646534383835333832326136343966653864356333636165
  37656366666365316339373234333331333564316238336339396635656233333866626266306636
  37646639626262356661363764306633326432373762636263353539616663333837636338623536
  62386431303562363431363365383163333239333066373138643537663731393833663030313035
  3031623164386165643233633732363238313539653036636164
minecraft_backup_image_tag: latest
# All container environment variables can be found at: https://github.com/itzg/docker-mc-backup#common-variables
minecraft_backup_options:
  # DO NOT modify this variable
  RCON_HOST: minecraft
  # Modify the below variables
  BACKUP_INTERVAL: 24h
  INITIAL_DELAY: 1m
  BACKUP_METHOD: restic
  RESTIC_REPOSITORY: b2:dabminecraft
  # Password used to encrypt backups
  RESTIC_PASSWORD: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    63313633393430333965343031373234303730353038383064633362393432326632613230666261
    3133613964323035663666383734336231633666323836630a343035663963633933303939666565
    63316333623838306639373062346530666132633861633565383734623664303463323732633665
    3566656561646139310a613236626366363931386531356435653263343234633834323332363435
    61306162313061616137336261333231623961323264653730613164343434343138
  # Backblaze B2 S3 credentials
  B2_ACCOUNT_ID: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    37356163346130616139316236663139373334353963386638623131623163636139346637666430
    6133333135393066393630333834373333333431656530370a323230326635313666316462386563
    65613562626239636564366235643630373665666434346533636532396339653431336362626365
    3531346362303362390a353534373639653539363064636138613430306131613865353339666665
    66383938626665643936356431633138346135366637393537303566616363323935
  B2_ACCOUNT_KEY: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    30613531666664666331313130633838333430633437323632396666336266656663643638346563
    3830636162393932313836633438663465363030643930610a633065616138303132643030356530
    30363631663366336232666261383966656432306239656630383636383562643439353838616235
    3961633838373635350a313633313333666138313362323334616435323266376230646137366137
    34623634666262363531643065363932653263386565303462376535613238643966
  # Same as minecraft_options.RCON_PASSWORD
  RCON_PASSWORD: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    38646665333635643731666563356535323066396461336438353061343233393039363132653562
    3433346461643239373465333736656534326234623566380a386336333834346337646138396566
    34646265313432343162373335333033313432353838386630316236326537346436313236356234
    6534326434396564650a343465333937366435363339303961333836633233393034313434643737
    35313637386632653736643064376530303135353334613537646332313830313330
  PRE_BACKUP_SCRIPT: |
    echo "Starting world backup"
    curl -X POST -H "Content-Type: application/json" -d '{"content": "Starting world backup ⏳"}' "{{ discord_webhook }}"
  POST_BACKUP_SCRIPT: |
    echo "Finished world backup"
    curl -X POST -H "Content-Type: application/json" -d '{"content": "World backup complete ✅"}' "{{ discord_webhook }}"
